This Learning Unit covers the following Learning Objectives:

1. Understand what an Absolute Path is.
2. Understand what a Relative Path is.
3. Know how Absolute and Relative pathing can be utilized from the command line in your Kali Linux VM.

To get started, let's briefly examine the difference between aÂ _Absolute Path_Â and aÂ _Relative Path_.

#### 9.3.1 Absolute Pathing

Let's execute a command withÂ _absolute pathing_Â from our Kali Lab VM from the sample /etc/ working directory.

We'll runÂ catÂ and provideÂ /etc/groupÂ as an argument. By specifying a forward slash (/) at the beginning of our statement, we tell Linux that we're interested in theÂ etcÂ directory from a file system perspective. TheÂ /Â directory is known as theÂ rootfsÂ or "root file system" on Unix-based systems.

This technique is known as absolute pathing since, depending upon the operating system, we specify a path that includes a volume label, begins at the underlying root file system, and concludes some number of directories down the line with a file.

In our example above, we arrive at theÂ groupÂ file within theÂ /etc/Â directory:
```bash
kali@kali:~$ cd /etc/

kali@kali:/etc$ pwd
/etc
  
kali@kali:/etc$ cat /etc/group
root:x:0:
daemon:x:1:
bin:x:2:
sys:x:3:
adm:x:4:
tty:x:5:
disk:x:6:
lp:x:7:
mail:x:8:
news:x:9:
uucp:x:10:
man:x:12:
proxy:x:13:
kmem:x:15:
dialout:x:20:kali,root
fax:x:21:
voice:x:22:
cdrom:x:24:kali
floppy:x:25:kali
tape:x:26:
sudo:x:27:kali
audio:x:29:pulse,kali
dip:x:30:kali
www-data:x:33:
backup:x:34:
... 
```

We'll contrast this practice with executing a relative command on the system as we continue to use theÂ /etc/Â directory in the next section.

#### 9.3.2 Extra Mile I

On your Kali Linux VM, execute the "cat" command on theÂ _groups_Â file inÂ _/etc/_Â fromÂ _/var/www/html/_Â using absolute pathing.

```bash
â”Œâ”€â”€(rootðŸ’€gobots)-[16Sep2024 18:32:03]-[/var/www/html]                                                                                                                                                      
â””â”€# cat /etc/group                                                                                                                                                                                          
root:x:0:                                                                                                                                                                                                   
daemon:x:1:                                                                                                                                                                                                 
bin:x:2:                  
```

#### 9.3.3. Relative Pathing

When working withÂ _relative pathing_, we can always expect to encounter a reference URI or directory. This reference URI can be any file path on the target web server. However, when specifying the path, rather than starting in theÂ rootfsÂ (root file system) directory and moving over to a particular file, our query is much shorter as we already exist within the relative directory.

For now, let's examine the command executed from theÂ /etc/Â directory on our Kali Linux VM below.

```bash
kali@kali:/etc$ pwd
/etc
                                    
kali@kali:/etc$ cat group     
root:x:0:
daemon:x:1:
bin:x:2:
sys:x:3:
adm:x:4:
tty:x:5:
disk:x:6:
lp:x:7:
mail:x:8:
news:x:9:
uucp:x:10:
man:x:12:
proxy:x:13:
kmem:x:15:
dialout:x:20:kali,root
fax:x:21:
voice:x:22:
cdrom:x:24:kali
floppy:x:25:kali
tape:x:26:
sudo:x:27:kali
audio:x:29:pulse,kali
dip:x:30:kali
www-data:x:33:
backup:x:34:
```

With our relative pathing example, we access theÂ groupÂ file inside theÂ /etc/Â directory. The key difference in this case is that we did not instruct the Linux kernel to readÂ /etc/groupÂ directly as an absolute path. Because both our relative directory and working directory areÂ /etc/, we only needed toÂ catÂ theÂ groupÂ file. We've now demonstrated the difference between absolute and relative pathing.

Let's now consider our Kali Lab Virtual Machine. If we traverse into our home directory (/home/kali/), we can traverse outside of that relative directory to view a file or perform an action using the "../" traversal string. The listing below shows this in action, as we read the contents ofÂ /etc/groupÂ from within ourÂ /home/kali/Â directory.

```bash
kali@kali: $ pwd
/home/kali
                                    
kali@kali:/etc$ cat ../../etc/group     
root:x:0:
daemon:x:1:
...
```

In some cases, we'll need to take into account our distance from the root filesystem. We can useÂ ../../../etc/groupÂ to read a particular file, but we might also need to useÂ ../../../../../../../../../../../../etc/group, depending on the distance of the file fromÂ rootfs. We should keep in mind that the root directory would be theÂ /Â directory on Unix-based systems, or theÂ C:\Â directory on a Windows machine.

These concepts will be foundational to growing our directory traversal skills. Before moving on to that Learning Module, we'll show a few contrasting examples of absolute and relative pathing. This time however, instead of being on our Kali Linux VM, we will be using a fictitious endpoint.

Suppose we encounter the following URL.

http://dirTravSandbox/image.php?image=logo.png

We will re-visit our directory traversal Sandbox in depth later. For now, it seems like relative pathing is being used in the above URL because there is no file path in the parameter. The application could be appending theÂ _image_Â value to a hard-coded path.

Sample Code Showing Image Directory and Image Name being Concatenated
```
$file = $image_dir + $_GET[image] 
```

As demonstrated above, the application concatenates the image path and name.

With that in mind, let's pay close attention to our fictitiousÂ _image_Â parameter in the above URL with the value ofÂ someImage.jpg. We'll notice that relative pathing is being used. Further, we'll observe that this link uses relative pathing. Using absolute pathing, the sample endpoint would appear much differently, as shown.

https://www.Megacorpone.com/index.php?image=/var/www/html/pub/images/someImage.jpg

However, from a programmatic standpoint as discussed above, it could be that theÂ _image_Â parameter is performing concatenation (the joining together of) the base image path and the image file itself. This would be an example of hard-coded absolute pathing.

These sample links demonstrate the key difference between a relative path and an absolute path in web applications. We will be working with both in the sections to come as we grow our understanding of directory traversal attacks.

------
#### 9.3.4. Extra Mile II

On your Kali Linux VM, run the "cat" command on theÂ _groups_Â file inÂ _/etc/_Â from theÂ _/etc/_Â directory with relative pathing.

```bash
â”Œâ”€â”€(rootðŸ’€gobots)-[16Sep2024 19:57:25]-[/etc]                                                                                                                                                               
â””â”€# cat group                                                                                                                                                                                               
root:x:0:                                                                                                                                                                                                   
daemon:x:1:                                                                                                                                                                                                 
bin:x:2:                                                                                                                                                                                                    
sys:x:3:               
```