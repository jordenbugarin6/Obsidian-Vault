#### Pulled Initial PWN library Stargate ` https://github.com/PwnLibrary/stargate`
```bash
root@bugs-VMware-Virtual-Platform:/home/bugs/stargate-all# tree
.
└── stargate-main
    ├── comms1_role
    │   ├── defaults
    │   │   └── main.yml
    │   ├── handlers
    │   │   └── main.yml
    │   ├── meta
    │   │   └── main.yml
    │   ├── README.md
    │   ├── tasks
    │   │   └── main.yml
    │   ├── tests
    │   │   ├── inventory
    │   │   └── test.yml
    │   └── vars
    │       └── main.yml
    ├── dc01_role
    │   ├── defaults
    │   │   └── main.yml
    │   ├── handlers
    │   │   └── main.yml
    │   ├── meta
    │   │   └── main.yml
    │   ├── README.md
    │   ├── tasks
    │   │   └── main.yml
    │   ├── tests
    │   │   ├── inventory
    │   │   └── test.yml
    │   └── vars
    │       └── main.yml
    ├── geosrv_role
    │   ├── defaults
    │   │   └── main.yml
    │   ├── files
    │   │   ├── domain_users.csv
    │   │   ├── geoserver
    │   │   │   ├── geoserver-2.23.5-bin.tar.001
    │   │   │   ├── geoserver-2.23.5-bin.tar.002
    │   │   │   ├── geoserver-2.23.5-bin.tar.003
    │   │   │   ├── geoserver-2.23.5-bin.tar.004
    │   │   │   ├── geoserver-2.23.5-bin.tar.005
    │   │   │   ├── geoserver-2.23.5-bin.tar.006
    │   │   │   ├── geoserver-2.23.5-bin.tar.007
    │   │   │   ├── geoserver-2.23.5-bin.tar.008
    │   │   │   ├── geoserver-2.23.5-bin.tar.009
    │   │   │   ├── geoserver-2.23.5-bin.tar.010
    │   │   │   ├── geoserver-2.23.5-bin.tar.011
    │   │   │   ├── geoserver-2.23.5-bin.tar.012
    │   │   │   └── geoserver-2.23.5-bin.tar.013
    │   │   ├── geoserver.service
    │   │   ├── not_important.png
    │   │   └── sudoers
    │   ├── handlers
    │   │   └── main.yml
    │   ├── meta
    │   │   └── main.yml
    │   ├── README.md
    │   ├── tasks
    │   │   └── main.yml
    │   ├── tests
    │   │   ├── inventory
    │   │   ├── ludus-range-geosrv-test.yml
    │   │   └── test.yml
    │   └── vars
    │       └── main.yml
    ├── injector_roles
    │   ├── cohab_injector_role
    │   │   ├── defaults
    │   │   │   └── main.yml
    │   │   ├── handlers
    │   │   │   └── main.yml
    │   │   ├── meta
    │   │   │   └── main.yml
    │   │   ├── README.md
    │   │   ├── tasks
    │   │   │   └── main.yml
    │   │   ├── tests
    │   │   │   ├── inventory
    │   │   │   └── test.yml
    │   │   └── vars
    │   │       └── main.yml
    │   ├── offlimits_injector_role
    │   │   ├── defaults
    │   │   │   └── main.yml
    │   │   ├── handlers
    │   │   │   └── main.yml
    │   │   ├── meta
    │   │   │   └── main.yml
    │   │   ├── README.md
    │   │   ├── tasks
    │   │   │   └── main.yml
    │   │   ├── tests
    │   │   │   ├── inventory
    │   │   │   └── test.yml
    │   │   └── vars
    │   │       └── main.yml
    │   └── spill_injector_role
    │       ├── defaults
    │       │   └── main.yml
    │       ├── handlers
    │       │   └── main.yml
    │       ├── meta
    │       │   └── main.yml
    │       ├── README.md
    │       ├── tasks
    │       │   └── main.yml
    │       ├── tests
    │       │   ├── inventory
    │       │   └── test.yml
    │       └── vars
    │           └── main.yml
    ├── ludus-ad-content
    │   ├── defaults
    │   │   └── main.yml
    │   ├── meta
    │   │   └── main.yml
    │   ├── README.md
    │   └── tasks
    │       └── main.yml
    ├── ludus-OT-range.yml
    ├── media
    │   ├── 2024-10-04_Stargate.png
    │   ├── 2024-10-08_Stargate.png
    │   ├── 2024-10-09_Stargate.png
    │   └── Stargate.drawio
    ├── range_config_example.yml
    ├── README.md
    ├── stargate_app_dev
    │   └── README.md
    ├── stargate_role
    │   ├── defaults
    │   │   └── main.yml
    │   ├── handlers
    │   │   └── main.yml
    │   ├── meta
    │   │   └── main.yml
    │   ├── README.md
    │   ├── tasks
    │   │   └── main.yml
    │   ├── tests
    │   │   ├── inventory
    │   │   └── test.yml
    │   └── vars
    │       └── main.yml
    └── ws01_role
        ├── defaults
        │   └── main.yml
        ├── handlers
        │   └── main.yml
        ├── meta
        │   └── main.yml
        ├── README.md
        ├── tasks
        │   └── main.yml
        ├── tests
        │   ├── inventory
        │   └── test.yml
        └── vars
            └── main.yml

```
#### Moved the cohab_injector_role to `ansible_playbook` to begin initial testing
![[Pasted image 20241014193056.png]]

-----------------------------
##### created `cohab_test.yml` as my playbook
Where:
`name` can be anything
`hosts` where `target` = whatever host is in the `inventory.ini` file
`become: yes` is used to indicate that the playbook or task should be executed with **elevated privileges**
`roles` are the roles to be executed
```bash
root@bugs-VMware-Virtual-Platform:/home/bugs/ansible_playbooks# ls
cohab_test.yml  files  inventory.ini  roles
root@bugs-VMware-Virtual-Platform:/home/bugs/ansible_playbooks# cat cohab_test.yml 
- name: Test Cohab Injector Role
  hosts: target
  become: yes
  roles:
    - cohab_injector_role
```
![[Pasted image 20241014194439.png]]

--------------------------------------
##### created `inventory.ini` 
to determine the targets that these ansible rules would be applied as 
`192.168.146.137` is my gobots kali machine, further implementation will be on `ROCKY LINUX VERSION 9` & `WINDOWS 10`

```bash
root@bugs-VMware-Virtual-Platform:/home/bugs/ansible_playbooks# cat inventory.ini 
[target]
192.168.146.137 ansible_ssh_user=root
```
![[Pasted image 20241014195227.png]]

------------------------------
##### in `tasks` directory 
- ensuring `redteamer1` user exists
- uploading `redteamcredentials.txt` onto `gobots` machine
- verifyingh `redteamcredentials.txt` is present
- outputing exists
```bash
root@bugs-VMware-Virtual-Platform:/home/bugs/ansible_playbooks/roles/cohab_injector_role/tasks# cat main.yml 

# tasks file for injector
- name: Ensure user redteamer1 exists
  ansible.builtin.user:
    name: redteamer1
    state: present
    create_home: yes
    shell: /bin/bash

- name: Upload redteamcredentials.txt to redteamer1's home directory
  ansible.builtin.copy:
    src: /home/bugs/ansible_playbooks/files/redteamcredentials.txt
    dest: /home/redteamer1/redteamcredentials.txt
    mode: '0644'

- name: Verify redteamcredentials.txt is present
  ansible.builtin.stat:
    path: /home/redteamer1/redteamcredentials.txt
  register: creds_file

- name: Output message if redteamcredentials.txt exists
  ansible.builtin.debug:
    msg: "redteamcredentials.txt has been deployed for redteamer1"
  when: creds_file.stat.exists

```

-----------------------
##### in `files` directory create `redteamcredentials.txt`
- this creates the file that is pulled from with the role
![[Pasted image 20241014211056.png]]

---------------------

##### Ensure the `ansible` host machine can reach the `target`
```bash
ansible -i inventory.ini target -m ping
```
![[Pasted image 20241014211330.png]]

-----------------------
##### Run the Playbook
Run the `ansible-playbook` to test roles
```bash
ansible-playbook -i inventory.ini cohab_test.yml
```
![[Pasted image 20241014192527.png]]